# =============================================================================
# IDSS Backend Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env

# -----------------------------------------------------------------------------
# Required
# -----------------------------------------------------------------------------

# OpenAI API key for LLM features (question generation, semantic parsing)
OPENAI_API_KEY="sk-REPLACE-ME"

# PostgreSQL connection string for e-commerce products (laptops, books)
# Format: postgresql://USERNAME@localhost:5432/DATABASE_NAME
# On Mac, USERNAME is usually your system username
DATABASE_URL="postgresql://your_username@localhost:5432/mcp_ecommerce"

# -----------------------------------------------------------------------------
# Optional - Logging
# -----------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Optional - Redis (for session caching)
# -----------------------------------------------------------------------------
# If Redis is not available, the system falls back to in-memory sessions

REDIS_HOST=localhost
REDIS_PORT=6379

# Upstash cloud-hosted Redis (overrides REDIS_HOST/REDIS_PORT if set)
# Get your URL from https://console.upstash.com → Redis → Details → REST URL
# UPSTASH_REDIS_URL="rediss://default:your-password@your-endpoint.upstash.io:6379"

# Cache TTLs (seconds) — tune per freshness requirements
# CACHE_TTL_PRODUCT_SUMMARY=300   # 5 min  (product data rarely changes)
# CACHE_TTL_PRICE=60              # 1 min  (prices change frequently)
# CACHE_TTL_INVENTORY=30          # 30 sec (most volatile)
# CACHE_TTL_SEARCH=300            # 5 min  (repeated searches)

# -----------------------------------------------------------------------------
# Optional - Neo4j (for knowledge graph - future feature)
# -----------------------------------------------------------------------------

# NEO4J_URI=bolt://localhost:7687
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your-password

# -----------------------------------------------------------------------------
# Optional - IDSS Server Settings
# -----------------------------------------------------------------------------

# Skip model preloading for faster startup (models load on first request)
# Set to 1 for development, 0 for production
# IDSS_SKIP_PRELOAD=0

# Preload all recommendation methods (uses more memory but faster switching)
# Set to 0 to only preload the configured method
# IDSS_PRELOAD_ALL=1

# -----------------------------------------------------------------------------
# Optional - Agent → MCP (UCP over HTTP)
# -----------------------------------------------------------------------------
# Base URL of the MCP server. The agent (action endpoints) sends UCP requests here.
# Default: http://localhost:8001 (same host when agent and MCP run together)
# When agent and MCP are separate services, set to the MCP server URL.
# MCP_BASE_URL="http://localhost:8001"

# Timeout in seconds for UCP HTTP calls from agent to MCP
# UCP_REQUEST_TIMEOUT=30.0
